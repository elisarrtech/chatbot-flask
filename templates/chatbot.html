<!DOCTYPE html>
<html>
<head>
    <title>Formulario de Postulación</title>
    <!-- <link rel="stylesheet" href="/static/style.css"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>

   
<body>
    <form method="POST" action="/">
        <!-- Campos originales -->
        <div class="form-group">
            <label for="nombre">Nombre completo*</label>
            <input type="text" id="nombre" name="nombre" required>
        </div>

        <div class="form-group">
            <label for="email">Email*</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
            <label for="mensaje">Mensaje*</label>
            <textarea id="mensaje" name="mensaje" required></textarea>
        </div>

        <!-- Nuevos campos -->
        <div class="form-group">
            <label for="edad">Edad*</label>
            <input type="number" id="edad" name="edad" min="18" max="70" required>
        </div>

        <div class="form-group">
            <label for="escolaridad">Escolaridad*</label>
            <select id="escolaridad" name="escolaridad" required>
                <option value="">Seleccione...</option>
                <option value="Secundaria">Secundaria</option>
                <option value="Preparatoria">Preparatoria/Bachillerato</option>
                <option value="Técnico">Carrera Técnica</option>
                <option value="Licenciatura">Licenciatura</option>
                <option value="Posgrado">Posgrado</option>
            </select>
        </div>

        <div class="form-group">
            <label for="colonia">Colonia donde resides*</label>
            <input type="text" id="colonia" name="colonia" required>
        </div>

        <div class="form-group">
            <label for="distanciaKelloggs">Distancia a planta Kellogg's en minutos*</label>
            <input type="number" id="distanciaKelloggs" name="distanciaKelloggs" step="0.1" required>
        </div>

        <div class="form-group">
            <label for="experienciaLaboral">¿Tienes experiencia laboral?*</label>
            <select id="experienciaLaboral" name="experienciaLaboral" required>
                <option value="">Seleccione...</option>
                <option value="Sí">Sí</option>
                <option value="No">No</option>
            </select>
        </div>

        <div class="form-group">
            <label for="ultimoTrabajo">Último trabajo (opcional)</label>
            <input type="text" id="ultimoTrabajo" name="ultimoTrabajo">
        </div>

        <div class="form-group">
            <label for="ultimoSueldo">Último sueldo mensual (opcional)</label>
            <input type="number" id="ultimoSueldo" name="ultimoSueldo" min="0" step="100">
        </div>

        <div class="form-group">
            <label for="mayorExperiencia">Describe tu mayor experiencia laboral*</label>
            <textarea id="mayorExperiencia" name="mayorExperiencia" required></textarea>
        </div>

        <button type="submit">Enviar postulación</button>
        <p>* Campos obligatorios</p>
    </form>

     <script>
  function toggleChat() {
    const chat = document.getElementById('chat-container');
    chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
  }

  function sendMessage(event) {
    event.preventDefault();
    const input = document.getElementById("user-input");
    const message = input.value.trim();
    if (message === "") return;

    const chatLog = document.getElementById("chat-log");

    // Mensaje del usuario
    const userMsg = document.createElement("div");
    userMsg.className = "chat-message user-message";
    userMsg.textContent = message;
    chatLog.appendChild(userMsg);

    // Scroll hacia abajo
    chatLog.scrollTop = chatLog.scrollHeight;

    // Enviar al backend con fetch
    fetch("/get", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ msg: message })
    })
    .then(res => res.json())
    .then(data => {
      const botMsg = document.createElement("div");
      botMsg.className = "chat-message bot-message";
      botMsg.textContent = data.response;
      chatLog.appendChild(botMsg);
      chatLog.scrollTop = chatLog.scrollHeight;
    });

    input.value = "";
  }
</script>

</body>
</html>
